@using Microsoft.AspNetCore.Http
<!-- OVERSTAG (C) 2019 MaurICT (github.com/maurictg/Overstag) -->
<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="~/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="~/js/materialize.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/css/materialize.min.css" />
    <link rel="shortcut icon" type="image/x-icon" href="~/img/favicon.ico" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>
        Overstag = {
            init: function(){
                //Check if user is logged in
                if (Overstag.loggedin) {
                    $('#_reg a').attr('href', '/Register/Logoff');
                    $('#_reg a').text('Uitloggen');
                    $('#_mreg a').attr('href', '/Register/Logoff');
                    $('#_mreg a').text('Uitloggen');
                } else {
                    $('.hidden').hide();
                }

                Overstag.mapevents();
            },
            mapevents: function () {
                if (Overstag.loggedin) {
                    $('#_reg a').click(function () {
                        localStorage.setItem("logout",true);
                    });
                    $('#_mreg a').click(function () {
                        localStorage.setItem("logout",true);
                    });
                }
            },

            //IMPORTANT VARIABLES
            firstname: '@Context.Session.GetString("Name")',
            loggedin: ('@Context.Session.GetString("Token")' != ''),
            url: window.location.href.replace(window.location.origin,''),
        }
    </script>
    <style>
        /*Add to materialize css*/
        .blue-light {
            background-color: #3096D3 !important;
        }

        .blue-middle {
            background-color: #0B86CF !important;
        }

        .blue-dark {
            background-color: #04507D !important;
        }

        .blue-light-text {
            color: #3096D3 !important;
        }

        .blue-middle-text {
            color: #0B86CF !important;
        }

        .blue-dark-text {
            color: #04507D !important;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-wrapper blue-light">
            <a href="#" id="title" class="brand-logo">&nbsp;&nbsp;Overstag</a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <!--Li a href-->
                <li id="_home"><a href="/Home">Home</a></li>
                <li id="_events"><a href="/Home/Events">Agenda</a></li>
                <li id="_ainfo"><a href="/User" class="hidden">Mijn account</a></li>
                <li id="_reg"><a href="/Register">Aanmelden</a></li>
            </ul>
        </div>
    </nav>
    <ul class="sidenav" id="mobile-demo">
        <li id="_mhome"><a href="/Home">Home</a></li>
        <li id="_mevents"><a href="/Home/Events">Agenda</a></li>
        <li id="_mainfo"><a href="/User" class="hidden">Mijn account</a></li>
        <li id="_mreg"><a href="/Register">Aanmelden</a></li>
    </ul>

    @RenderBody()

    <script>
        $(document).ready(function () {
            $('.sidenav').sidenav();
            $('.slider').slider();
            $('.modal').modal();
        });

        Overstag.init();
    </script>
    
</body>
</html>

<!-- COLOR SCHEME:
licht:  #3096D3
middel: #0B86CF
donker: #04507D-->
