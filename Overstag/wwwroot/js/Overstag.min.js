var Overstag={init:function(){this.Theme.init(),this.mapEvents()},mapEvents:function(){$("#btnsnow").click(this.Theme.letItSnow)},Loader:{init:function(callback){$.get("/html/loader.html",(function(r){$("#_data").html(r)})).done((function(){$(".modal").modal(),null!=callback&&callback()})).fail((function(){console.log("Failed to load!")}))},show:function(){M.Modal.getInstance($("#_loader")).open()},hide:function(){M.Modal.getInstance($("#_loader")).close()}},Theme:{setDark:function(){$("body").addClass("overstag-dark"),localStorage.setItem("darktheme","true")},setLight:function(){$("body").removeClass("overstag-dark"),localStorage.setItem("darktheme","false")},letItSnow:function(){$("<link/>",{rel:"stylesheet",type:"text/css",href:"/css/particles.css"}).appendTo("head"),$.getScript("/js/particles.min.js",(function(){particlesJS.load("particles-js","/js/particlesjs-config.json",(function(){$("#btnsnow").fadeOut()}))}))},init:function(){localStorage.getItem("darktheme")?"true"===localStorage.getItem("darktheme")&&this.setDark():localStorage.setItem("darktheme","false")}},General:{rememberMe:function(token){$.post("/Auth/Register",{token:token},(function(r){"success"===r.status?(localStorage.setItem("remember",r.token),console.log("Ill remember you")):console.log("Remembering failed")}))},restoreMe:function(callback,params,successcallback){if(!localStorage.getItem("remember"))return null!=callback&&callback(params),!1;$.post("/Auth/Login",{token:localStorage.getItem("remember")},(function(r){"success"===r.status?(null!=successcallback&&successcallback(),console.log("Login restored!")):(console.log("Cant restore login"),localStorage.removeItem("remember"))})).done((function(){return null!=callback&&callback(params),!0})).fail((function(){return null!=callback&&callback(params),!1}))},logout:function(nomaterial){var token=localStorage.getItem("remember");localStorage.setItem("logout",!0),localStorage.removeItem("remember"),$.get("/Register/Logout",{token:token},(function(r){"error"===r.status?(nomaterial||M.toast({html:"Er is iets fout gegaan met uitloggen",classes:"red"}),window.setTimeout((function(){window.location.href="/Home"}),500)):window.location.href="/Home"}),"json")}}},Core={doReload:function(interval){setTimeout(window.location.reload.bind(window.location),interval)}};$((function(){Overstag.init()}));