var OverstagJS={init:function(){this.Theme.init(),this.mapEvents()},mapEvents:function(){$("#btnsnow").click(this.Theme.letItSnow)},Loader:{init:function(callback){$.get("/html/loader.html",(function(r){$("#_data").html(r)})).done((function(){$(".modal").modal(),null!=callback&&callback()})).fail((function(){console.log("Failed to load!")}))},show:function(){M.Modal.getInstance($("#_loader")).open()},hide:function(){M.Modal.getInstance($("#_loader")).close()}},Theme:{setDark:function(){$(".card-panel, .card, .card-content, .card-reveal, .card-image").addClass("white-text grey darken-3"),$(":text, :password, textarea").addClass("white-text"),$("tr.grey").removeClass("lighten-4").addClass("darken-1"),$("img.blue, div.blue").removeClass("blue lighten-4").addClass("grey darken-3"),$(".modal, .modal-footer, .collapsible-header, .collection-item, body").addClass("white-text grey darken-4"),$(".blue-dark-text").removeClass("blue-dark-text").addClass("white-text bdt"),localStorage.setItem("darktheme","true")},setLight:function(){$(".card-panel, .card, .card-content, .card-reveal, .card-image").removeClass("white-text grey darken-3"),$(":text, :password, textarea").removeClass("white-text"),$(".modal, .modal-footer, .collapsible-header, .collection-item, body").removeClass("white-text grey darken-4"),$("img.grey, div.grey").removeClass("grey darken-3").addClass("blue lighten-4"),$("tr.grey").removeClass("darken-1").addClass("lighten-4"),$(".bdt").removeClass("white-text").addClass("blue-dark-text"),localStorage.setItem("darktheme","false")},letItSnow:function(){$("<link/>",{rel:"stylesheet",type:"text/css",href:"/css/particles.css"}).appendTo("head"),$.getScript("/js/particles.min.js",(function(){particlesJS.load("particles-js","/js/particlesjs-config.json",(function(){$("#btnsnow").fadeOut()}))}))},init:function(){localStorage.getItem("darktheme")?"true"===localStorage.getItem("darktheme")&&this.setDark():localStorage.setItem("darktheme","false")}},General:{getIEVersion:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident;if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},detectIE:function(){var version=this.getIEVersion();!1===version?console.log("Goed bezig! Geen IE"):version>=12?console.log("User gebruikt Edge "+version):(console.log("User gebruikt IE "+version),M.toast({html:"<b>Overstag support geen Internet Explorer</b>",classes:"red",displayLength:1e4}),M.toast({html:"Gebruik in plaats van dit Edge, Chrome of beter: Firefox",classes:"blue"}))},rememberMe:function(token){$.post("/Auth/Register",{token:token},(function(r){"success"===r.status?(localStorage.setItem("remember",r.token),console.log("Ill remember you")):console.log("Remembering failed")}))},restoreMe:function(callback,params,successcallback){if(!localStorage.getItem("remember"))return null!=callback&&callback(params),!1;$.post("/Auth/Login",{token:localStorage.getItem("remember")},(function(r){"success"===r.status?(null!=successcallback&&successcallback(),console.log("Login restored!")):(console.log("Cant restore login"),localStorage.removeItem("remember"))})).done((function(){return null!=callback&&callback(params),!0})).fail((function(){return null!=callback&&callback(params),!1}))},logout:function(nomaterial){var token=localStorage.getItem("remember");localStorage.setItem("logout",!0),localStorage.removeItem("remember"),$.get("/Register/Logout",{token:token},(function(r){"error"===r.status?(nomaterial||M.toast({html:"Er is iets fout gegaan met uitloggen",classes:"red"}),window.setTimeout((function(){window.location.href="/Home"}),500)):window.location.href="/Home"}),"json")}}},Core={doReload:function(interval){setTimeout(window.location.reload.bind(window.location),interval)}};$((function(){OverstagJS.init()}));