#pragma checksum "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2588cf4a7bfaad8bd80c6d0786b78252ec8d5489"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_User_Events), @"mvc.1.0.view", @"/Views/User/Events.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2588cf4a7bfaad8bd80c6d0786b78252ec8d5489", @"/Views/User/Events.cshtml")]
    public class Views_User_Events : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<Overstag.Models.NoDB.ISubscription>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
  
    Layout = "_UserLayout";
    ViewBag.Title = "Evenementen";
    System.Globalization.CultureInfo culture = new System.Globalization.CultureInfo("nl-NL");

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<div>
    <h3 class=""center-align blue-dark-text"">Agenda &amp; inschrijvingen</h3>
    <h5 class=""blue-middle-text center-align"">&nbsp;Komende evenementen, onder het voorbehoud van <a href=""https://herzienestatenvertaling.nl/teksten/jakobus/4#15"" target=""_blank"">Jakobus 4:15</a></h5>
    <div id=""partial"">
        <br />

");
#nullable restore
#line 13 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
         if (Model.Count() > 0)
        {
            int cnt = 0;
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
             foreach (var item in Model)
            {
                bool iss = Overstag.Core.General.DateIsPassed(item.Event.When);

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"row\" style=\"display: none;\"");
            BeginWriteAttribute("id", " id=\"", 809, "\"", 824, 2);
            WriteAttributeValue("", 814, "event-", 814, 6, true);
#nullable restore
#line 19 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue("", 820, cnt, 820, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <div class=\"col s12 center-align\">\r\n                        <h4><b>");
#nullable restore
#line 21 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                          Write(item.Event.Title);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></h4>\r\n                        <br />\r\n                        <h5><i class=\"material-icons\">calendar_today</i><span>&nbsp;");
#nullable restore
#line 23 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                               Write(item.Event.When.ToString("dddd dd MMMM yyyy", culture));

#line default
#line hidden
#nullable disable
            WriteLiteral(" om ");
#nullable restore
#line 23 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                          Write(item.Event.When.ToString("HH:mm"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></h5>\r\n                        <h6>");
#nullable restore
#line 24 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                       Write(item.Event.Description);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h6>\r\n                        <h5>&euro;");
#nullable restore
#line 25 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                             Write(Math.Round((double)item.Event.Cost / 100, 2).ToString("F"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</h5>\r\n                        <br />\r\n                    </div>\r\n                    <div class=\"col s12 center-align\">\r\n                        <button");
            BeginWriteAttribute("class", " class=\"", 1471, "\"", 1528, 4);
            WriteAttributeValue("", 1479, "btn", 1479, 3, true);
            WriteAttributeValue(" ", 1482, "btn-large", 1483, 10, true);
#nullable restore
#line 29 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue(" ", 1492, (iss)?"red":"green", 1493, 22, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 1515, "waves-effect", 1516, 13, true);
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 29 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                     Write(Html.Raw((item.Subscribed) ? "style=\"display: none;\"" : ""));

#line default
#line hidden
#nullable disable
            WriteLiteral(" onclick=\"Events.Subscribe(");
#nullable restore
#line 29 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                                                              Write(item.Event.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(");\" id=\"sub-");
#nullable restore
#line 29 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                                                                                        Write(item.Event.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">");
#nullable restore
#line 29 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                                                                                                         Write((iss) ? "Alsnog" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" Inschrijven</button>\r\n                        <div");
            BeginWriteAttribute("id", " id=\"", 1736, "\"", 1761, 2);
            WriteAttributeValue("", 1741, "unsub-", 1741, 6, true);
#nullable restore
#line 30 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue("", 1747, item.Event.Id, 1747, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 30 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                  Write(Html.Raw((!item.Subscribed) ? "style=\"display: none;\"" : ""));

#line default
#line hidden
#nullable disable
            WriteLiteral(">\r\n                            <a");
            BeginWriteAttribute("class", " class=\"", 1859, "\"", 1931, 5);
            WriteAttributeValue("", 1867, "btn", 1867, 3, true);
            WriteAttributeValue(" ", 1870, "btn-large", 1871, 10, true);
            WriteAttributeValue(" ", 1880, "orange", 1881, 7, true);
            WriteAttributeValue(" ", 1887, "waves-effect", 1888, 13, true);
#nullable restore
#line 31 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue(" ", 1900, Html.Raw((iss)?"disabled":""), 1901, 30, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("onclick", " onclick=\"", 1932, "\"", 1979, 3);
            WriteAttributeValue("", 1942, "Events.DoUnsubscribe(", 1942, 21, true);
#nullable restore
#line 31 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue("", 1963, item.Event.Id, 1963, 14, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1977, ");", 1977, 2, true);
            EndWriteAttribute();
            WriteLiteral(">Uitschrijven</a>\r\n                            <a");
            BeginWriteAttribute("class", " class=\"", 2029, "\"", 2126, 7);
            WriteAttributeValue("", 2037, "btn", 2037, 3, true);
            WriteAttributeValue(" ", 2040, "btn-flat", 2041, 9, true);
            WriteAttributeValue(" ", 2049, "transparent", 2050, 12, true);
            WriteAttributeValue(" ", 2061, "waves-effect", 2062, 13, true);
            WriteAttributeValue(" ", 2074, "btn-large", 2075, 10, true);
            WriteAttributeValue(" ", 2084, "btnsetting", 2085, 11, true);
#nullable restore
#line 32 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue(" ", 2095, Html.Raw((iss)?"disabled":""), 2096, 30, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-id=\"");
#nullable restore
#line 32 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                     Write(item.Event.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-fc=\"");
#nullable restore
#line 32 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                                                                                                                                                              Write(item.Friends);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"><i class=\"material-icons\">settings</i></a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 36 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
                cnt++;
            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            <div class=""center-align"">
                <div class=""row"">
                    <button class=""btn btn-large waves-effect transparent black-text disabled"" id=""btnprev""><i class=""material-icons"">arrow_back</i></button>
                    <button");
            BeginWriteAttribute("class", " class=\"", 2605, "\"", 2697, 6);
            WriteAttributeValue("", 2613, "btn", 2613, 3, true);
            WriteAttributeValue(" ", 2616, "btn-large", 2617, 10, true);
            WriteAttributeValue(" ", 2626, "waves-effect", 2627, 13, true);
            WriteAttributeValue(" ", 2639, "transparent", 2640, 12, true);
            WriteAttributeValue(" ", 2651, "black-text", 2652, 11, true);
#nullable restore
#line 41 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
WriteAttributeValue(" ", 2662, (Model.Count()<2)?"disabled":"", 2663, 34, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"btnnext\"><i class=\"material-icons\">arrow_forward</i></button>\r\n                </div>\r\n            </div>\r\n");
#nullable restore
#line 44 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
        }
        else
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <div class=\"center-align\"><h4 class=\"orange-text\">Op dit moment zijn er geen activiteiten.</h4></div>\r\n");
#nullable restore
#line 48 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    </div>
</div>


<br />
<div class=""row"">
    <div class=""col s10 offset-s1"">
        <h4 class=""blue-middle-text center-align"">Voten</h4>
        <p class=""flow-text"">
            Wat zijn leuke activiteiten om te doen? Daar hebben jullie ook een stem in.<br />
            Via <a href=""/User/Vote"">deze link</a> of het knopje met het stemicoontje kan je zelf ook ideeÃ«n toevoegen. Breng anderen op de hoogte en vraag hen hun stem uit te brengen.
        </p>
        <br />
        <h4 class=""blue-middle-text center-align"">Huisregels</h4>
        <p class=""flow-text"">Tijdens onze activiteiten gelden bepaalde huisregels. Deze kun je <a href=""/Home/About#huisregels"">hier</a> vinden.</p>
    </div>
</div>


<div class=""fixed-action-btn"">
    <a class=""btn-floating btn-large blue-dark waves-effect"" href=""/User/Vote"">
        <i class=""large material-icons"">how_to_vote</i>
    </a>
</div>

<div id=""uitschrijven"" class=""modal"">
    <div class=""modal-content"">
        <h4>Weet je zeker dat");
            WriteLiteral(@" je jezelf wilt afmelden voor deze avond?</h4>
        <p>Natuurlijk kun je je altijd weer opnieuw inschrijven, voor het geval je er spijt van krijgt.</p>
    </div>
    <div class=""modal-footer"">
        <a class=""modal-close waves-effect btn green white-text"">Annuleren</a>
        <a onclick=""Events.Unsubscribe();"" id=""btnunsub"" class=""modal-close waves-effect btn red white-text"">Uitschrijven</a>
    </div>
</div>

<div id=""ssetting"" class=""modal"">
    <div class=""modal-content"">
        <h4>Inschrijving bewerken</h4>
        <table>
            <tr>
                <td>
                    <h5>Vriend(inn)en meenemen</h5>
                    <p>Hier kun je instellen of je iemand mee wilt nemen naar deze activiteit. De gemaakte kosten worden dan voor jou in rekening gebracht.</p>
                </td>
                <td>
                    <h5><span id=""fcount"">0</span> </h5>
                </td>
                <td>
                    <h6>
                        <a onclick=""Event");
            WriteLiteral(@"s.AddFriend(true);"" class=""btn btn-flat green-text transparent waves-effect""><i class=""material-icons"">add_circle</i></a>
                        <a onclick=""Events.AddFriend(false);"" class=""btn btn-flat transparent red-text waves-effect""><i class=""material-icons"">remove_circle</i></a>
                    </h6>
                </td>
            </tr>
        </table>
    </div>
    <div class=""modal-footer"">
        <a class=""waves-effect btn green white-text"" onclick=""Events.SaveSetting();"">Opslaan</a>
        <a class=""modal-close waves-effect btn grey white-text"">Sluiten</a>
    </div>
</div>


<script>
    var eventtoremove;
    var emax = ");
#nullable restore
#line 115 "C:\Users\mauri\Documents\GitHub\Overstag\Overstag\Views\User\Events.cshtml"
           Write(Model.Count()-1);

#line default
#line hidden
#nullable disable
            WriteLiteral(@";
    var ecurrent = 0;

    var User = {
        init: function () {
            $('#_aevent, #_maevent').addClass('active');
            $('#event-0').show();
            Events.MapEvents();
        }
    }

    var Events = {
        MapEvents: function () {
            $('.btnsetting').off().on('click', function () {
                Events.OpenSetting(this);
            });

            $('#btnnext').off().on('click', function () {
                Events.ShowNext(true);
            });

            $('#btnprev').off().on('click', function () {
                Events.ShowNext(false);
            });
        },
        DoUnsubscribe: function (id) {
            $('#btnunsub').data('id', id);
            M.Modal.getInstance($('#uitschrijven')).open();
        },
        Subscribe: function (id) {
            $('#_progbar').show();
            //Inschrijven
            $.post(""/User/postSubscribeEvent"", { EventId: id }, function (response) {
                if (response.status");
            WriteLiteral(@" == 'success') {
                    M.toast({ html: 'Inschrijving gelukt! Leuk dat je komt!', classes: 'green' });
                    $('#sub-' + id).hide();
                    $('#unsub-' + id).show();
                }
                else {
                    //status = error
                    M.toast({ html: response.error, classes: 'red' });
                }
            }, 'json').done(function () {
                $('#_progbar').hide();
            });
        },
        Unsubscribe: function (id) {
            if (!(id > 0))
                id = $('#btnunsub').data('id');
            //Uitschrijven
            $('#_progbar').show();
            $.post(""/User/postDeleteEvent"", { EventId: id }, function (response) {
                if (response.status == 'success') {
                    M.toast({ html: 'Successvol uitgeschreven', classes: 'orange' });
                    $(`.btnsetting[data-id='${id}']`).data('fc', 0);
                    $('#sub-' + id).show();
            ");
            WriteLiteral(@"        $('#unsub-' + id).hide();
                }
                else {
                    //status = error
                    M.toast({ html: response.error, classes: 'red' });
                }
            }, 'json').done(function () {
                $('#_progbar').hide();
            });
        },
        ShowNext: function (next) {
            if (next && (ecurrent + 1 <= emax)) {
                $('#event-' + ecurrent).hide();
                $('#event-' + ++ecurrent).show();
                $('#btnprev').removeClass('disabled');
                if (ecurrent == emax) {
                    $('#btnnext').addClass('disabled');
                }
            } else {
                if (ecurrent - 1 >= 0) {
                    $('#event-' + ecurrent).hide();
                    $('#event-' + --ecurrent).show();
                    $('#btnnext').removeClass('disabled');
                    if (ecurrent == 0) {
                        $('#btnprev').addClass('disabled');
         ");
            WriteLiteral(@"           }
                }
            }
        },
        OpenSetting: function (sender) {
            $('#ssetting').data('sender', sender);
            M.Modal.getInstance($('#ssetting')).open();
            $('#fcount').text($(sender).data('fc'));
        },
        AddFriend: function (add) {
            var nv = parseInt($('#fcount').text()) + ((add) ? 1 : -1);
            if (nv >= 0 && nv <= 5) {
                $('#fcount').text(nv);
            }
        },
        SaveSetting: function () {
            var sender = $('#ssetting').data('sender');
            $(sender).data('fc', $('#fcount').text());
            $.post('/User/SubscribeFriends', { id: $(sender).data('id'), amount: $(sender).data('fc') }, function (r) {
                if (r.status == 'success') {
                    M.toast({ html: 'Wijzigingen opgeslagen', classes: 'green' });
                    M.Modal.getInstance($('#ssetting')).close();
                } else {
                    M.toast({ html: 'Ops");
            WriteLiteral(@"laan mislukt', classes: 'red' });
                }
            });
        },
        GetSubs: function () {
            $.getJSON('/User/getSubscribers/' + $($('#ssetting').data('sender')).data('id'), function (r) {
                console.log(r);
            });
        }
    }

    $(document).ready(function () {
        $('.modal').modal();
        User.init();
    });

</script>

");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<Overstag.Models.NoDB.ISubscription>> Html { get; private set; }
    }
}
#pragma warning restore 1591
