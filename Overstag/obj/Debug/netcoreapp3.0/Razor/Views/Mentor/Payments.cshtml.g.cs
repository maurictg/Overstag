#pragma checksum "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "34a7d882357000d95abee73a5121fe703d8a965e"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Mentor_Payments), @"mvc.1.0.view", @"/Views/Mentor/Payments.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"34a7d882357000d95abee73a5121fe703d8a965e", @"/Views/Mentor/Payments.cshtml")]
    public class Views_Mentor_Payments : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<Overstag.Models.NoDB.MPayment>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
   
    ViewBag.Title = "Betalingen";
    Layout = "~/Views/_MentorLayout.cshtml";
    string[] Status = { "Open", "Geannuleerd", "In afwachting", "Geauthoriseerd", "Verlopen", "Mislukt", "Betaald" };
    string[] StatusColors = { "blue", "orange", "yellow darken-1", "green", "orange", "red", "green" };

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<h2 class=""center-align blue-middle-text"">Betalingen</h2>

<div>
    <table>
        <thead>
            <tr>
                <th>Voornaam</th>
                <th>Achternaam</th>
                <th>Factuur gemaakt op</th>
                <th>Betaling geplaatst op</th>
                <th>Betaald</th>
                <th>IDEAL status</th>
                <th>IDEAL ID</th>
                <th>Betaald op</th>
                <th>Kosten</th>
                <th>Acties</th>
            </tr>
        </thead>
        <tbody>
");
#nullable restore
#line 28 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
             foreach(var i in Model)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <tr>\r\n                    <td><b>");
#nullable restore
#line 31 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                      Write(i.User.Firstname);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></td>\r\n                    <td><b>");
#nullable restore
#line 32 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                      Write(i.User.Lastname);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></td>\r\n                    <td>");
#nullable restore
#line 33 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(i.Invoice.Timestamp.ToString("dd-MM-yyyy HH:mm:ss"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>");
#nullable restore
#line 34 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(i.Payment.PlacedAt.ToString("dd-MM-yyyy HH:mm:ss"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>");
#nullable restore
#line 35 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(Html.Raw((i.Invoice.Payed==0) ? "<b class=\"red-text\">Nee</b>" : "<b class=\"green-text\">Ja</b>"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>");
#nullable restore
#line 36 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(Html.Raw((i.Payment.Status!=null) ? $"<b class=\"{StatusColors[Convert.ToInt32(i.Payment.Status)]}-text\">{Status[Convert.ToInt32(i.Payment.Status)]}</b>" : "<b>?</b>"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>");
#nullable restore
#line 37 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(Html.Raw((i.Payment.PaymentID!=null)?i.Payment.PaymentID:"<b>?</b>"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>");
#nullable restore
#line 38 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                   Write(Convert.ToDateTime(i.Payment.PayedAt).ToString("dd-MM-yyyy HH:mm:ss"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <td>&euro;");
#nullable restore
#line 39 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                         Write(Math.Round((double)i.Invoice.Amount / 100, 2).ToString("F"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                    <th>\r\n                        <a class=\"btn blue\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 1968, "\"", 2025, 2);
            WriteAttributeValue("", 1975, "/Pay/Direct/", 1975, 12, true);
#nullable restore
#line 41 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
WriteAttributeValue("", 1987, Uri.EscapeDataString(i.Invoice.PayID), 1987, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">Factuur openen</a>\r\n");
#nullable restore
#line 42 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                         if (i.Payment.PayedAt == null)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <a class=\"btn orange setpayed\" data-iid=\"");
#nullable restore
#line 44 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                                                                Write(i.Invoice.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-pid=\"");
#nullable restore
#line 44 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                                                                                         Write(i.Payment.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" href=\"#\">Markeren als betaald</a>\r\n");
#nullable restore
#line 45 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </th>\r\n                </tr>\r\n");
#nullable restore
#line 48 "C:\Users\maurict\Documents\GitHub\Overstag\Overstag\Views\Mentor\Payments.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        </tbody>
    </table>
</div>

<div id=""areusure"" class=""modal"">
    <div class=""modal-content"">
        <h4>Weet je zeker dat je deze betaling wilt markeren als betaald?</h4>
        <p>Hiermee wordt als ware een valse ideal betaling aangemaakt.<br /><b> Dit kan in principe niet meer ongedaan worden gemaakt.</b></p>
    </div>
    <div class=""modal-footer"">
        <button class=""modal-close btn green waves-effect"">Annuleren</button>
        <button id=""btndelete"" onclick=""Payment.setPayed();"" class=""btn modal-close red waves-effect"">Markeren als betaald</button>
    </div>
</div>

<script>
    var iid = 0;
    var pid = 0;

    var Payment = {
        init: function () {
            $('#_pay, #_mpay').addClass('active');
            Payment.mapEvents();
        },
        mapEvents: function () {
            $('.setpayed').off().on('click', function () {
                iid = $(this).data('iid');
                pid = $(this).data('pid');
                M.Modal.getInstanc");
            WriteLiteral(@"e($('#areusure')).open();
            });
        },
        setPayed: function () {
            $('#_progbar').show();
            $.post('/Mentor/markAsPayed', { payed: 1, payid: pid, invoiceid: iid }, function (r) {
                if (r.status == 'success') {
                    M.toast({ html: 'Wijzigingen opgeslagen', classes: 'green' });
                    Core.doReload(500);
                } else {
                    M.toast({ html: r.error, classes: 'red' });
                }
            });
        }
    };

    $(function () {
        Payment.init();
    });
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<Overstag.Models.NoDB.MPayment>> Html { get; private set; }
    }
}
#pragma warning restore 1591
